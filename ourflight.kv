#:import Factory kivy.factory.Factory

<VBoxLayout@BoxLayout>
    orientation: 'vertical'

<MyButton@Button>
    halign: 'center'
    valign: 'middle'
    color: (1, 0, 0, 1)
    background_color: (0, 0.05, 0.1, 1)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (1, 0, 0, 1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<Label@Label>
    font_size: '14sp'
    text_size: self.size
    halign: 'center'
    valign: 'middle'
    markup: True
    multiline: False

<LLabel@Label>
    halign: 'left'

<RLabel@Label>
    halign: 'right'  

<Spinner@Spinner>
    halign: 'center'
    valign: 'middle'
    background_color: (0, 0.05, 0.1, 1)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    option_cls: Factory.sp
    sync_height: True

<sp@SpinnerOption>
    color: 1, 1, 1, 1
    background_color: 0, 0.05, 0.1, 1

<TextInput@TextInput>
    multiline: 'False'
    halign: 'center'
    valign: 'middle'
    size_hint_x: (0.5)
    background_color: (0, 0.05, 0.1, 1)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height


<Container>
    rad0: rad0
    period0: period0
    period0_time: period0_time
    lbl_v0: lbl_v0
    ae0: ae0
    lbl_ae: lbl_ae
    cat1: cat1
    cat2: cat2
    lbl_gipot: lbl_gipot

    r1: r1
    r2: r2
    v1_sec: v1_sec
    v2_sec: v2_sec
    lbl_orb2: lbl_orb2
    spn_t: spn_t
    lbl_v1: lbl_v1
    lbl_v2: lbl_v2
    lbl_t1: lbl_t1
    lbl_l2: lbl_l2
    lbl_l2_cent: lbl_l2_cent

    destination: destination
    destination_select: destination_select
    tariff: tariff
    tariff_select: tariff_select
    passengers: passengers
    passengers_select: passengers_select
    cargo: cargo
    cargo_select: cargo_select
    btn_price: btn_price
    price_select: price_select

    halign: 'center'
    valign: 'middle'
    padding: 10
    canvas.before:
        Color: 
            rgba: (0, 0.05, 0.1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    VBoxLayout:
        size: root.width, root.height
        Accordion:
            orientation: 'vertical' 

            AccordionItem: 
                title: '[b]Изобретатели[/b]'
                canvas.before:
                    Color: 
                        rgba: (0, 0.05, 0.1, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                VBoxLayout:
                    padding: 20
                    canvas.before:
                        Color:
                            rgba: (1, 1, 1, 1)
                        Line:
                            width: 5
                            rectangle: self.x, self.y, self.width, self.height
                    Image:
                        source: ('images/rocket2.jpg')
                        size_hint: (4, 4)
                        pos_hint: {'center_x': 0.5, 'top': 1}
                    Label:
                        text: '____________________________________________'
                    Label:
                        text: '[b]Максим Чернов[/b],\nпрограммное обеспечение.'
                    Label:
                        text: '____________________________________________'
                    Label:
                        text: '[b]Вячеслав Чернов[/b],\nмонтаж оборудования.'
                    Label:
                        text: '____________________________________________'
                    Label:
                        text: '[b]Дормидонт Пищалкин[/b],\nэкономические рассчёты.' 

            AccordionItem: 
                title: '[b]Формулы[/b]'
                canvas.before:
                    Color: 
                        rgba: (0, 0.05, 0.1, 1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                VBoxLayout:
                    padding: 20
                    canvas.before:
                        Color:
                            rgba: (1, 1, 1, 1)
                        Line:
                            width: 5
                            rectangle: self.x, self.y, self.width, self.height

                    BoxLayout:
                        Label:
                            text: '[b]Формулы для рассчёта траектории[/b]'
                    
                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Радиус       .'
                        TextInput:
                            id: rad0
                        LLabel:
                            text: '         млн км'
                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Период           .'
                        TextInput:
                            id: period0
                        Spinner:
                            id: period0_time
                            text: 'Размерность'
                            values: ('час', 'сут', 'год')
                    BoxLayout:
                        padding: 5
                        MyButton:
                            text: '[b]Скорость[/b]'
                            on_release: root.vel0()
                        LLabel:
                            id: lbl_v0
                            text: '         Скорость...'
                    BoxLayout:
                        Label:
                            text: '____________________________________'

                    BoxLayout:
                        padding: 5
                        TextInput:
                            id: ae0
                        LLabel:
                            text: '         а.е.'
                    BoxLayout:
                        padding: 5
                        MyButton:
                            text: '[b]В км[/b]'
                            on_release: root.ae()
                        LLabel:
                            id: lbl_ae
                            text: '         В млн км это...'
                    BoxLayout:
                        Label:
                            text: '____________________________________'

                    BoxLayout:
                        padding: 5
                        RLabel: 
                            text: 'Катет 1          .'
                        TextInput:
                            id: cat1
                    BoxLayout:
                        padding: 5
                        RLabel: 
                            text: 'Катет 2          .'
                        TextInput:
                            id: cat2
                    BoxLayout:
                        padding: 5
                        MyButton:
                            text: '[b]Гипотенуза[/b]'
                            on_release: root.pifagor()
                        LLabel:
                            id: lbl_gipot
                            text: '         Гипотенуза...'

                        
            AccordionItem: 
                title: '[b]Стоимость[/b]'
                VBoxLayout:
                    padding: 20
                    canvas.before:
                        Color:
                            rgba: (1, 1, 1, 1)
                        Line:
                            width: 5
                            rectangle: self.x, self.y, self.width, self.height

                    BoxLayout:
                        Label:
                            text: '[b]Рассчёт стоимости полёта[/b]'

                    BoxLayout:
                        padding: 3
                        Spinner:
                            id: destination
                            text: 'Куда\nлетим?' 
                            values: 'Луна', 'Меркурий', 'Венера', 'Марс', 'Церера', 'Веста', 'Ганимед', 'Ио', 'Европа', 'Каллисто', 'Титан', 'Титания', 'Тритон', 'Плутон', 'Эрида'
                            on_text: root.on_destination_select()
                        Label:
                            id: destination_select
                            text: 'Цель назначения...'

                    BoxLayout:
                        padding: 3
                        Spinner:
                            id: tariff
                            text: 'Выберите\nтариф' 
                            values: 'простой', 'быстрый', 'супербыстрый'
                            on_text: root.on_tariff_select()
                        Label:
                            id: tariff_select
                            text: 'Тариф...'

                    BoxLayout:
                        padding: 3
                        Spinner:
                            id: passengers
                            text: 'Количество\nпассажиров' 
                            values: (str(n) for n in range(1, 21))
                            on_text: root.on_passengers_select()
                        Label:
                            id: passengers_select
                            text: '... пассажиров'

                    BoxLayout:
                        padding: 3
                        Spinner:
                            id: cargo
                            text: 'Количество\nтонн груза' 
                            values: (str(n) for n in range(1, 101))
                            on_text: root.on_cargo_select()
                        Label:
                            id: cargo_select
                            text: '... тонн груза'

                    BoxLayout:
                        padding: 3
                        MyButton:
                            id: btn_price
                            text: '[b]СТОИМОСТЬ[/b]'
                            on_release: root.priced()
                    BoxLayout:
                        Label:
                            id: price_select
                            text: 'Стоимость полёта:'

            AccordionItem: 
                title: '[b]Параметры[/b]'
                VBoxLayout:
                    padding: 20
                    canvas.before:
                        Color:
                            rgba: (1, 1, 1, 1)
                        Line:
                            width: 5
                            rectangle: self.x, self.y, self.width, self.height
                    
                    Label:
                        text: '[b]Рассчёт параметров полёта[/b]'

                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Полуось орб.старта, млн км    .'
                        TextInput:
                            id: r1

                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Полуось орб.финиша, млн км    .'
                        TextInput:
                            id: r2

                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Скорость ракеты км/сек   .'
                        TextInput:
                            id: v1_sec
                            
                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Скорость объекта, км/сек .'
                        TextInput:
                            id: v2_sec

                    BoxLayout:
                        padding: 5
                        RLabel:
                            text: 'Размерность времени .'
                        Spinner:
                            id: spn_t
                            text: 'Размерность времени'
                            values: 'час', 'сутки', 'год'

                    BoxLayout:
                        padding: 5
                        MyButton:
                            text: '[b]ВЫЧИСЛИТЬ[/b]'
                            on_release: root.calculate()  

                    LLabel:
                        id: lbl_orb2
                        text: 'Длина орбиты объекта ... млн км.'
                    LLabel:
                        id: lbl_v1
                        text: 'Скорость ракеты...'
                    LLabel:
                        id: lbl_v2
                        text: 'Скорость объекта'
                    LLabel:
                        id: lbl_t1
                        text: 'Время движения ракеты до объекта...'
                    LLabel:
                        id: lbl_l2
                        text: 'За это время объект прошёл...'
                    LLabel:
                        id: lbl_l2_cent
                        text: 'Это составляет ...% от его орбиты.'
